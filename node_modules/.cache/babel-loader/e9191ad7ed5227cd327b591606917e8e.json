{"ast":null,"code":"var _jsxFileName = \"/Users/intelaki/Development/React/proyecto-react-hooks-en-udemy/src/pages/Results/index.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Container, CircularProgress } from \"@material-ui/core\";\nimport queryString from \"query-string\";\nimport { searchMovie } from \"../../redux/actions/search\";\nimport { movieResults, isSearchLoading } from \"../../redux/selectors\";\nimport MovieResult from \"../../components/MovieResult\";\nexport default (({\n  location\n}) => {\n  const dispatch = useDispatch();\n  console.log(\"dispatch\");\n  console.log(dispatch);\n  const movies = useSelector(state => movieResults(state));\n  console.log(\"movies\");\n  console.log(movies);\n  const isLoading = useSelector(state => isSearchLoading(state));\n  const [isLooked, setIsLooked] = useState(false);\n  useEffect(() => {\n    const {\n      movieName\n    } = queryString.parse(location.search);\n    console.log(movieName);\n\n    if (movieName && !isLooked) {\n      dispatch(searchMovie({\n        movieName\n      }));\n      console.log(\"if movies\");\n      console.log(movieName);\n    }\n  });\n  console.log(\"location\");\n  console.log(location);\n  console.log(\"queryString.parse(location.search)\");\n  console.log(queryString.parse(location.search));\n\n  const renderMovies = () => {\n    if (movies) {\n      return movies.map((value, index) => /*#__PURE__*/React.createElement(MovieResult, Object.assign({\n        key: index\n      }, value, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 9\n        }\n      })));\n    } else if (isLoading) {\n      return /*#__PURE__*/React.createElement(CircularProgress, {\n        size: 100,\n        color: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 14\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 12\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 10\n    }\n  }, renderMovies());\n});","map":{"version":3,"sources":["/Users/intelaki/Development/React/proyecto-react-hooks-en-udemy/src/pages/Results/index.js"],"names":["React","useEffect","useState","useDispatch","useSelector","Container","CircularProgress","queryString","searchMovie","movieResults","isSearchLoading","MovieResult","location","dispatch","console","log","movies","state","isLoading","isLooked","setIsLooked","movieName","parse","search","renderMovies","map","value","index"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AAEA,SAASC,SAAT,EAAoBC,gBAApB,QAA4C,mBAA5C;AACA,OAAOC,WAAP,MAAwB,cAAxB;AAEA,SAASC,WAAT,QAA4B,4BAA5B;AACA,SAASC,YAAT,EAAuBC,eAAvB,QAA8C,uBAA9C;AACA,OAAOC,WAAP,MAAwB,8BAAxB;AAEA,gBAAe,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AAC/B,QAAMC,QAAQ,GAAGV,WAAW,EAA5B;AACAW,EAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AAEA,QAAMG,MAAM,GAAGZ,WAAW,CAAEa,KAAD,IAAWR,YAAY,CAACQ,KAAD,CAAxB,CAA1B;AACAH,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYC,MAAZ;AAEA,QAAME,SAAS,GAAGd,WAAW,CAAEa,KAAD,IAAWP,eAAe,CAACO,KAAD,CAA3B,CAA7B;AACA,QAAM,CAACE,QAAD,EAAWC,WAAX,IAA0BlB,QAAQ,CAAC,KAAD,CAAxC;AACAD,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM;AAAEoB,MAAAA;AAAF,QAAgBd,WAAW,CAACe,KAAZ,CAAkBV,QAAQ,CAACW,MAA3B,CAAtB;AACAT,IAAAA,OAAO,CAACC,GAAR,CAAYM,SAAZ;;AACA,QAAIA,SAAS,IAAI,CAACF,QAAlB,EAA4B;AAC1BN,MAAAA,QAAQ,CAACL,WAAW,CAAC;AAAEa,QAAAA;AAAF,OAAD,CAAZ,CAAR;AACAP,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYM,SAAZ;AACD;AACF,GARQ,CAAT;AAUAP,EAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAY,oCAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYR,WAAW,CAACe,KAAZ,CAAkBV,QAAQ,CAACW,MAA3B,CAAZ;;AAEA,QAAMC,YAAY,GAAG,MAAM;AACzB,QAAIR,MAAJ,EAAY;AACV,aAAOA,MAAM,CAACS,GAAP,CAAW,CAACC,KAAD,EAAQC,KAAR,kBAChB,oBAAC,WAAD;AAAa,QAAA,GAAG,EAAEA;AAAlB,SAA6BD,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADK,CAAP;AAGD,KAJD,MAIO,IAAIR,SAAJ,EAAe;AACpB,0BAAO,oBAAC,gBAAD;AAAkB,QAAA,IAAI,EAAE,GAAxB;AAA6B,QAAA,KAAK,EAAC,SAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD;;AACD,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD,GATD;;AAUA,sBAAO,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAYM,YAAY,EAAxB,CAAP;AACD,CArCD","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { Container, CircularProgress } from \"@material-ui/core\";\nimport queryString from \"query-string\";\n\nimport { searchMovie } from \"../../redux/actions/search\";\nimport { movieResults, isSearchLoading } from \"../../redux/selectors\";\nimport MovieResult from \"../../components/MovieResult\";\n\nexport default ({ location }) => {\n  const dispatch = useDispatch();\n  console.log(\"dispatch\");\n  console.log(dispatch);\n\n  const movies = useSelector((state) => movieResults(state));\n  console.log(\"movies\");\n  console.log(movies);\n\n  const isLoading = useSelector((state) => isSearchLoading(state));\n  const [isLooked, setIsLooked] = useState(false);\n  useEffect(() => {\n    const { movieName } = queryString.parse(location.search);\n    console.log(movieName);\n    if (movieName && !isLooked) {\n      dispatch(searchMovie({ movieName }));\n      console.log(\"if movies\");\n      console.log(movieName);\n    }\n  });\n\n  console.log(\"location\");\n  console.log(location);\n  console.log(\"queryString.parse(location.search)\");\n  console.log(queryString.parse(location.search));\n\n  const renderMovies = () => {\n    if (movies) {\n      return movies.map((value, index) => (\n        <MovieResult key={index} {...value} />\n      ));\n    } else if (isLoading) {\n      return <CircularProgress size={100} color=\"primary\" />;\n    }\n    return <div />;\n  };\n  return <Container>{renderMovies()}</Container>;\n};\n"]},"metadata":{},"sourceType":"module"}